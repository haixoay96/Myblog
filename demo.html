<!DOCTYPE html>
<html lang="en" xmlns:sau="http://www.w3.org/1999/xhtml">
<head>
    <title>Blog developer !</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="shortcut icon" type="image/PNG" href="/public/images/icon.png"/>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <style>
        body {
            font: 20px Montserrat, sans-serif;
            line-height: 1.8;
            color: #f5f6f7;
        }

        p {
            font-size: 16px;
        }

        .margin {
            margin-bottom: 45px;
        }

        .bg-1 {
            background-color: #1abc9c; /* Green */
            color: #ffffff;
        }

        .bg-2 {
            background-color: #474e5d; /* Dark Blue */
            color: #ffffff;
        }

        .bg-3 {
            background-color: #ffffff; /* White */
            color: #555555;
        }

        .bg-4 {
            background-color: #2f2f2f; /* Black Gray */
            color: #fff;
        }

        .container-fluid {
            padding-top: 70px;
            padding-bottom: 70px;
        }

        .navbar {
            padding-top: 15px;
            padding-bottom: 15px;
            border: 0;
            border-radius: 0;
            margin-bottom: 0;
            font-size: 12px;
            letter-spacing: 5px;
        }

        .navbar-nav li a:hover {
            color: #1abc9c !important;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Home</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Who?</a></li>
                <li><a href="#">What?</a></li>
                <li><a href="#">How?</a></li>
                <li><a href="#">Book</a></li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown">Programming<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/programming/1">Java</a></li>
                        <li><a href="/programming/2">Android</a></li>
                        <li><a href="/programming/3">Nodejs</a></li>
                        <li><a href="/programming/4">C/C++</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    <div class="jumbotron">
        <p style="color: #2f2f2f">
            Hey guys !. I come back! <br>
            Dạo tiếng anh tý thôi. Hôm nay mình sẽ hướng dẫn cách bạn tạo 1 http server đơn giản nhé !<br>
            Đầu tiên mình sẽ hướng dẫn các bạn cách tạo 1 project đã!<br>
            Các bạn vào trang chủ rồi dow bộ cài về nhé , cứ next next là xong , easy @@,<a href="https://nodejs.org/en/">link đây</a><br>
            Lưu ý là các bạn nên dow bản 4. nhé, vì nó là bản ổn định.<br>
            Rồi giờ chúng ta khỏi tạo project.<br>
            Các bạn mở cửa số cmd rồi gỗ lệnh.<br>
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#005fd2; '>mkdir</span> <span style='color:#00c4c4; '>project</span>
<span style='color:#005fd2; '>cd</span> <span style='color:#00c4c4; '>project</span>
<span style='color:#005fd2; '>npm</span> <span style='color:#00c4c4; '>init</span> <span style='color:#00c4c4; '>--yes</span>
</pre>
        <p style="color: #2f2f2f">
            Nó sẽ khởi tạo project của bạn với tham số mặc định và xuất hiện 1 file package.json trong thư mục project .File đó các bạn chưa cần quan tâm nhé mình sẽ giải thích sau và từ khóa npm cũng vậy mình sẽ giải thích sau. <br>
            Nói thêm nữa là code nodejs thì ko cần ide vì code của javascript không phực tạp như java hay C#, chỉ sau này khi làm cả một trang web thì chúng ta dùng webstorm, trước mắt thì nên dùng sublime text hoặc atom cho nó ... đẳng cấp @#$@#$ , các bạn có thể dow trên mạng <br>
            Trong thưc mục project chúng ta tạo file index.js.<br>
            Trong file index.js chúng ta có đoạn code sau:<br>
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#e66170; font-weight:bold; '>var</span> http <span style='color:#d2cd86; '>=</span> require<span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>http</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#e66170; font-weight:bold; '>var</span> server <span style='color:#d2cd86; '>=</span> http<span style='color:#d2cd86; '>.</span>createServer<span style='color:#d2cd86; '>(</span><span style='color:#e66170; font-weight:bold; '>function</span> <span style='color:#d2cd86; '>(</span>request<span style='color:#d2cd86; '>,</span> response<span style='color:#d2cd86; '>)</span> <span style='color:#b060b0; '>{</span>
console<span style='color:#d2cd86; '>.</span><span style='color:#e66170; font-weight:bold; '>log</span><span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>request starting...</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#9999a9; '>// respond</span>
response<span style='color:#d2cd86; '>.</span>write<span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>hello client!</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
response<span style='color:#d2cd86; '>.</span>end<span style='color:#d2cd86; '>(</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#b060b0; '>}</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
server<span style='color:#d2cd86; '>.</span>listen<span style='color:#d2cd86; '>(</span><span style='color:#008c00; '>3000</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
console<span style='color:#d2cd86; '>.</span><span style='color:#e66170; font-weight:bold; '>log</span><span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>Server running at http://127.0.0.1:3000/</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span>
</pre>
        <p style="color: #2f2f2f">
            Đầu tiên câu lệch require dùng để import thư viện ( cái này mình cũng sẽ giải thích chi tiết ở bài sau). Chúng ta import thư viện http , thư viện này dùng để giúp chúng ta khỏi tạo server với phương thức là http. <br>
            Trong hàm createServer chúng ta truyền vào 1 hàm callback, hàm này có 2 tham số là request và response. Đương nhiên rồi cái tên nói lên tất cả, request sẽ chứa thông tin của client mỗi khi nó gửi 1 yêu cầu lên server còn response sẽ chứa dữ liệu mà chúng ta sẽ trả về cho yêu cầu đó. <br>
            Cứ mỗi 1 yêu cầu của client được gửi lên thì hàm callback đó sẽ được gọi 1 lần và đương nhiên là request và response ở mỗi lần là khác nhau ! <br>
            response.write('hello client!');<br>
            Đoạn này hiểu đơn giản là chúng ta trả về cho client chuỗi hello client!<br>
            response.end();<br>
            Còn đoạn này là thông báo kết thúc gói tin trả về( nếu không có dòng này thì client sẽ không nhận được dữ liệu trả về đâu hô hô !<br>
            Rồi bắt đầu chạy !
            Vào cmd cd đến thưc mục project rồi gõ:
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#005fd2; '>node</span> <span style='color:#00c4c4; '>index.js</span>
</pre>
        <p style="color: #2f2f2f">
            Nếu các bạn thấy chữ Server running at http://127.0.0.1:3000/ tức là server đã được start thành công! <br>
            Giờ vào trình duyệt gõ 127.0.0.1:3000 chúng ta sẽ nhận được chữ hello client! <br>
            Như vậy là chúng ta đã tạo thành công 1 server http đơn giản , để tắt server thì ở cmd chúng ta bấm ctrl + c ! <br>
            Các bạn thử xóa dòng response.end(); rồi chạy lại server và vào trình duyệt check lại xem điều gì xảy ra nhé!<br>
            Ok như vậy là mình vừa hướng dẫn các bạn tạo 1 server http đơn giản trả về chuỗi hello client! mỗi khi có yêu cầu từ client.<br>
            Cảm ơn các bạn đã theo dõi bài viết !
        </p>
    </div>
</div>

</body>
</html>
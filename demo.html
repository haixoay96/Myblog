<!DOCTYPE html>
<html lang="en" xmlns:sau="http://www.w3.org/1999/xhtml">
<head>
    <title>Blog developer !</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="shortcut icon" type="image/PNG" href="/public/images/icon.png"/>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <style>
        body {
            font: 20px Montserrat, sans-serif;
            line-height: 1.8;
            color: #f5f6f7;
        }

        p {
            font-size: 16px;
        }

        .margin {
            margin-bottom: 45px;
        }

        .bg-1 {
            background-color: #1abc9c; /* Green */
            color: #ffffff;
        }

        .bg-2 {
            background-color: #474e5d; /* Dark Blue */
            color: #ffffff;
        }

        .bg-3 {
            background-color: #ffffff; /* White */
            color: #555555;
        }

        .bg-4 {
            background-color: #2f2f2f; /* Black Gray */
            color: #fff;
        }

        .container-fluid {
            padding-top: 70px;
            padding-bottom: 70px;
        }

        .navbar {
            padding-top: 15px;
            padding-bottom: 15px;
            border: 0;
            border-radius: 0;
            margin-bottom: 0;
            font-size: 12px;
            letter-spacing: 5px;
        }

        .navbar-nav li a:hover {
            color: #1abc9c !important;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Home</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Who?</a></li>
                <li><a href="#">What?</a></li>
                <li><a href="#">How?</a></li>
                <li><a href="#">Book</a></li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown">Programming<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/programming/1">Java</a></li>
                        <li><a href="/programming/2">Android</a></li>
                        <li><a href="/programming/3">Nodejs</a></li>
                        <li><a href="/programming/4">C/C++</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    <div class="jumbotron">
        <p style="color: #2f2f2f">
            Chào các bạn ! Hôm nay mình sẽ hướng dẫn các bạn tạo 1 server phục vụ trả về file cho client.<br>
            Đầu tiên chúng ta tạo 1 file html đơn giản nhé và cho nó vào thư mục của project ( cách tạo project mình hướng dẫn ở bài trước rồi mình không làm lại nữa ). <br>
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#ff8906; '>&lt;</span><span style='color:#e66170; font-weight:bold; '>html</span><span style='color:#ff8906; '>></span>
<span style='color:#ff8906; '>&lt;</span><span style='color:#e66170; font-weight:bold; '>head</span><span style='color:#ff8906; '>></span>
<span style='color:#ff8906; '>&lt;</span><span style='color:#e66170; font-weight:bold; '>title</span><span style='color:#ff8906; '>></span>Hello everyone<span style='color:#ff8906; '>&lt;/</span><span style='color:#e66170; font-weight:bold; '>title</span><span style='color:#ff8906; '>></span>
<span style='color:#ff8906; '>&lt;/</span><span style='color:#e66170; font-weight:bold; '>head</span><span style='color:#ff8906; '>></span>
<span style='color:#ff8906; '>&lt;</span><span style='color:#e66170; font-weight:bold; '>body</span><span style='color:#ff8906; '>></span>
You are looking lovely!
<span style='color:#ff8906; '>&lt;/</span><span style='color:#e66170; font-weight:bold; '>body</span><span style='color:#ff8906; '>></span>
<span style='color:#ff8906; '>&lt;/</span><span style='color:#e66170; font-weight:bold; '>html</span><span style='color:#ff8906; '>></span>
</pre>
        <p style="color: #2f2f2f">
            Các bạn đặt tên file là index.html nhé ( tên gì cũng được nhưng cứ đặt vậy cho tiện) :)) <br>
            Bây giờ chúng ta bắt đầu tạo server, chúng ta cùng xem đoạn code sau: <br>
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#e66170; font-weight:bold; '>var</span> http <span style='color:#d2cd86; '>=</span> require<span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>http</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#e66170; font-weight:bold; '>var</span> fs <span style='color:#d2cd86; '>=</span> require<span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>fs</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#e66170; font-weight:bold; '>var</span> server <span style='color:#d2cd86; '>=</span> http<span style='color:#d2cd86; '>.</span>createServer<span style='color:#d2cd86; '>(</span><span style='color:#e66170; font-weight:bold; '>function</span> <span style='color:#d2cd86; '>(</span>req<span style='color:#d2cd86; '>,</span> res<span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>{</span>
    res<span style='color:#d2cd86; '>.</span>writeHead<span style='color:#d2cd86; '>(</span><span style='color:#008c00; '>200</span><span style='color:#d2cd86; '>,</span> <span style='color:#b060b0; '>{</span> <span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>content-type</span><span style='color:#02d045; '>'</span><span style='color:#b060b0; '>:</span> <span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>text/html</span><span style='color:#02d045; '>'</span> <span style='color:#b060b0; '>}</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
    fs<span style='color:#d2cd86; '>.</span>createReadStream<span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>index.html</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#d2cd86; '>.</span>pipe<span style='color:#d2cd86; '>(</span>res<span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
<span style='color:#b060b0; '>}</span><span style='color:#d2cd86; '>)</span><span style='color:#d2cd86; '>.</span>listen<span style='color:#d2cd86; '>(</span><span style='color:#008c00; '>3000</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
console<span style='color:#d2cd86; '>.</span><span style='color:#e66170; font-weight:bold; '>log</span><span style='color:#d2cd86; '>(</span><span style='color:#02d045; '>'</span><span style='color:#00c4c4; '>server running on port 3000</span><span style='color:#02d045; '>'</span><span style='color:#d2cd86; '>)</span><span style='color:#b060b0; '>;</span>
</pre>
        <p style="color: #2f2f2f">
            res.writeHead(200, { 'content-type': 'text/html' });<br>
            Đoạn code này dùng để set header cho gói tin, thông báo là chúng ta trả về file html.<br>
            Rồi chúng ta dùng module fs để trả truyền file về cho client.<br>
            Vào trình duyệt và gõ http://127.0.0.1:3000 nó sẽ hiện thị nội dung của file html nên cho chúng ta.<br>
            Đấy là cách chúng ta trả về file html còn đây là bảng tên content-type của một vài kiểu dữ liệu cơ bản, các bạn chỉ cần chỉnh phương thức writeHead và truyền vào file muốn trả về là được.<br>
        </p>
        <pre style='color:#d1d1d1;background:#000000;'><span style='color:#e66170; font-weight:bold; '>Name</span>                               MIME <span style='color:#e66170; font-weight:bold; '>type</span>
HyperText Markup Language <span style='color:#d2cd86; '>(</span>HTML<span style='color:#d2cd86; '>)</span>   text<span style='color:#d2cd86; '>/</span>html
Cascading Style Sheets <span style='color:#d2cd86; '>(</span>CSS<span style='color:#d2cd86; '>)</span>       text<span style='color:#d2cd86; '>/</span>css
JavaScript                         application<span style='color:#d2cd86; '>/</span>javascript
JavaScript Object Notation <span style='color:#d2cd86; '>(</span>JSON<span style='color:#d2cd86; '>)</span>  application<span style='color:#d2cd86; '>/</span>json
JPEG Image                         image<span style='color:#d2cd86; '>/</span>jpeg
Portable Network <span style='color:#e66170; font-weight:bold; '>Graphics</span> <span style='color:#d2cd86; '>(</span>PNG<span style='color:#d2cd86; '>)</span>    image<span style='color:#d2cd86; '>/</span>png
</pre>
        <p style="color:#2f2f2f">
            Hôm nay mình có chút việc nên chỉ viết đến đây thôi , bài viết sau mình sẽ hướng dẫn các bạn trả về file html mà trong đó có chứa file ảnh , file css ...vvv nhé ! <br>
            Cảm ơn các bạn đã theo dõi bài viết ! <br>
        </p>
    </div>
</div>
</body>
</html>